<!-- LittleLisa project debug page
author: Catlin Roman
date: april 8th 2024
file: index.html

will be displayed when connecting directly to main controller local wifi
for diagnosttics, relying more on websocket data rater than database
api requests. Fetches will be made directly to esp http and ws servers.
Used for updating and quick diagnostics. -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>LittleLisa debug Page</title>
    <link
      rel="shortcut icon"
      href="./public/icons/favicon.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./src/css/index.css" />
    <link rel="stylesheet" href="./src/css/general.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Red+Hat+Mono:ital,wght@0,300..700;1,300..700&display=swap"
      rel="stylesheet"
    />
    <script defer src="./src/main.js" type="module"></script>
  </head>
  <body>
    <header>
      <div class="menu-select">
        <div class="menu overlay hidden">
          <button class="nav-btn dev_btn">Device Info</button>
          <button class="nav-btn net_btn">Network Info</button>
          <button class="nav-btn db_btn">SD DB View</button>
          <button class="nav-btn sys_btn">System Health</button>
          <button class="nav-btn ota_btn">OTA Update</button>
          <button class="nav-btn close">Close</button>
        </div>
        <!-- DEVICE INFO -->
        <div class="device-info overlay hidden">
          <h2>Device Info:</h2>
          <ul>
            <li class="app-info">
              <h3 class="subheading">App Info</h3>
              <ul>
                <li>Project Name:<span class="proj-name">-</span></li>
                <li>App Version:<span class="app-ver">-</span></li>
                <li>Secure Version:<span class="sec-ver">-</span></li>
              </ul>
            </li>
            <li class="chip-info">
              <h3 class="subheading">Chip Info</h3>
              <ul>
                <li>Num Cores:<span class="cores">-</span></li>
                <li>Chip type:<span class="chip">-</span></li>
              </ul>
            </li>
            <li class="compile-info">
              <h3 class="subheading">Compile Info</h3>
              <ul>
                <li>Time:<span class="time">-</span></li>
                <li>Date:<span class="date">-</span></li>
                <li class="idf-ver-li">
                  Idf-version:<span class="idf-ver">-</span>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <!-- NETWORK INFO -->
        <div class="network-info overlay hidden">
          <h2>Network Info:</h2>
          <ul>
            <li class="sta-info">
              <h3 class="subheading">Station Connection Info</h3>
              <ul>
                <li>SSID:<span class="sta-ssid">-</span></li>
                <li>Strength:<span class="rssi">-</span></li>
                <li>Ip:<span class="ip">-</span></li>
                <li>Netmask:<span class="netmask">-</span></li>
                <li>Gateway:<span class="gateway">-</span></li>
              </ul>
            </li>
          </ul>
        </div>
        <!-- SD DB INFO -->
        <div class="sd-db-info overlay hidden">
          <h2>SD DB view:</h2>
        </div>
        <!-- System Health -->
        <div class="system-health overlay hidden">
          <h2>System Health:</h2>
        </div>
        <!-- OTA Update -->
        <div class="ota-update overlay hidden">
          <h2>OTA Update:</h2>

          <p class="ota-info">
            Warning: This ota update will propagate throughout all connected
            nodes
          </p>

          <form class="ota-form" id="uploadForm">
            <input
              class="ota-input"
              type="file"
              id="fileInput"
              name="file"
              required
            />
            <button class="ota-btn" type="submit" id="uploadBtn">
              Upload Firmware
            </button>
          </form>
          <div class="ota-status hidden">
            <p class="ota-status-info ota-info">Upload in progress...</p>
            <p class="ota-info ota-status-reset"></p>
            <textarea class="ota-log"></textarea>
          </div>
        </div>
        <div class="head-icon">
          <svg
            class="header-menu-icon icon-open"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"
            />
          </svg>
          <svg
            class="header-menu-icon icon-close hidden"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
            />
          </svg>
        </div>
      </div>

      <div class="title-box">
        <p class="subheading">LittleLisa Debug</p>
        <h1 class="type">Node Name Here</h1>
        <p class="title-id-self">
          ID#: <span class="module_id">29_03_38_89_75_75</span>
        </p>
        <p class="title-location">Garage</p>
      </div>
    </header>

    <main>
      <section class="section-status">
        <p class="subheading">Status</p>
        <div class="status">
          <p class="status-internal-db">
            Internal DB Status &rarr;
            <span class="internal-db-status">alive</span>
          </p>
          <p class="status-external-db">
            External DB Status &rarr;
            <span class="external-db-status">alive</span>
          </p>
          <div class="status-uptime">
            <p>Uptime &#8628;</p>
            <span class="uptime">---</span>
          </div>
        </div>
      </section>
      <section class="section-online-connections">
        <p class="subheading">Connected Nodes</p>
        <div class="online-connections">
          <div class="inside"></div>
        </div>
      </section>
      <section class="section-log-output">
        <div class="log-header">
          <p class="subheading">Websocket Log</p>
          <button class="log-refresh">Refresh</button>
        </div>
        <textarea rows="20" class="log-output" readonly>
Log stream starting ...
        </textarea>
      </section>
      <section class="section-sensor-data">
        <div class="sensor-header">
          <p class="subheading">WS Sensor Data</p>
          <button class="sensor-refresh">Refresh</button>
        </div>
        <!-- <div class="sensor-data-node-box self">
          <div class="sensor-summary">
            <div class="sensor-data-info">
              <h2 class="node-title">Node Id</h2>
              <p class="location">Module Location</p>
            </div>
            <p class="value">avg. <span class="sensor-avg">14*C</span></p>
          </div>
          <ul class="sensor-types hidden">
            <li class="sensor-type DHT22">
              <p class="subheading">DHT22</p>


              <ul class="sensor-readings-box"></ul>
            </li>
            <li class="sensor-type hidden soil_moisture">
              <p class="subheading">Soil Moisture</p>
              <ul class="sensor-readings-box"></ul>
            </li>
            <li class="sensor-type hidden light">
              <p class="subheading">Light</p>
              <ul class="sensor-readings-box"></ul>
            </li>
            <li class="sensor-type hidden sound">
              <p class="subheading">Sound</p>
              <ul class="sensor-readings-box"></ul>
            </li>
            <li class="sensor-type hidden movement">
              <p class="subheading">Movement</p>
              <ul class="sensor-readings-box"></ul>
            </li>
            <li class="sensor-type hidden cam">
              <p class="subheading">Cam</p>
              <ul class="sensor-readings-box"></ul>
            </li>
          </ul>
        </div> -->
      </section>
    </main>
  </body>
</html>
